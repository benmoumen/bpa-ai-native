# Sprint Status Tracking
# Generated: 2025-12-30
# Updated: 2026-01-01 (Strategic Review)
# Project: bpa-ai-native
# Tracking System: file-system
# Story Location: _bmad-output/implementation-artifacts

# STATUS DEFINITIONS:
# ==================
# Epic Status:
#   - backlog: Epic not yet started
#   - in-progress: Epic actively being worked on
#   - done: All stories in epic completed
#   - superseded: Epic merged into other epics or deferred
#
# Story Status:
#   - backlog: Story only exists in epic file
#   - ready-for-dev: Story file created, ready for development
#   - in-progress: Developer actively working on implementation
#   - review: Implementation complete, ready for review
#   - done: Story completed
#
# Retrospective Status:
#   - optional: Can be completed but not required
#   - done: Retrospective has been completed

# WORKFLOW NOTES:
# ===============
# - Mark epic as 'in-progress' when starting work on its first story
# - SM typically creates next story ONLY after previous one is 'done' to incorporate learnings
# - Dev moves story to 'review', then Dev runs code-review (fresh context, ideally different LLM)

# STRATEGIC UPDATE (2026-01-01):
# ==============================
# - Epic 5 superseded: Stories merged into Epic 4 and Phase 2
# - Added spike stories (4-0, 6-0) for domain research before complex epics
# - Reordered MVP path: Epic 4 → Epic 6-core → Epic 7 → Epic 6-advanced
# - Epic 4 stories prioritized: 4-1 to 4-6 and 4-9 are MVP critical

generated: 2025-12-30
updated: 2026-01-01
project: bpa-ai-native
project_key: bpa-ai-native
tracking_system: file-system
story_location: _bmad-output/implementation-artifacts

development_status:
  # Epic 1: Project Foundation & Developer Experience (7 stories)
  epic-1: done
  1-1-monorepo-scaffolding-with-turborepo: done
  1-2-nextjs-web-application-setup: done
  1-3-nestjs-api-application-setup: done
  1-4-shared-packages-configuration: done
  1-5-database-schema-prisma-setup: done
  1-6-keycloak-sso-integration: done
  1-7-cicd-pipeline-setup: done
  epic-1-retrospective: done

  # Epic 2: Service Lifecycle Management (11 stories)
  epic-2: done
  2-1-service-database-model-api-foundation: done
  2-2-create-new-service-with-metadata: done
  2-3-service-list-with-search-filter: done
  2-4-edit-service-metadata: done
  2-5-delete-draft-service: done
  2-6-duplicate-existing-service: done
  2-7-service-lifecycle-state-management: done
  2-8-service-template-gallery: done
  2-9-registration-database-model-api: done
  2-10-registration-crud-within-service: done
  2-11-document-requirements-costs-per-registration: done
  epic-2-retrospective: done

  # Epic 3: Form Building & Configuration (10 stories)
  epic-3: done
  3-1-form-database-model-api: done
  3-2-create-applicant-form: done
  3-3-create-guide-form: done
  3-4-add-form-fields: done
  3-5-configure-field-properties: done
  3-6-organize-fields-into-sections: done
  3-7-configure-conditional-visibility-rules: done
  3-8-form-preview-rendering: done
  3-9-link-fields-to-determinants: done
  3-10-json-schema-generation: done
  epic-3-retrospective: done

  # Epic 4: Workflow Configuration (12 stories - includes spike + merged 5-5)
  # NOTE: 4-0 is a research spike, 4-5a is merged from Epic 5
  # MVP CRITICAL: 4-0, 4-1, 4-2, 4-3, 4-4, 4-5, 4-6, 4-9
  # DEFERRABLE: 4-7, 4-8, 4-10, 4-11
  epic-4: in-progress
  4-0-workflow-domain-research-spike: done # Research spike complete
  4-1-workflow-database-model-api: done
  4-2-define-workflow-steps: done
  4-3-configure-workflow-transitions: done
  4-4-specify-step-actions: in-progress
  4-5-assign-forms-to-workflow-steps: backlog
  4-5a-determinants-in-workflow-conditions: backlog # MERGED from Epic 5-5
  4-6-linear-approval-chain-configuration: backlog
  4-7-workflow-diagram-preview: backlog # Deferrable
  4-8-workflow-validation: backlog # Deferrable
  4-9-role-status-configuration-4-status-model: backlog # MVP Critical
  4-10-role-registration-binding: backlog # Deferrable
  4-11-role-institution-assignment: backlog # Deferrable (Phase 2)
  epic-4-retrospective: optional

  # Epic 5: Determinants & Business Rules - SUPERSEDED
  # Rationale: Core functionality implemented in Epic 3 (3.7, 3.9)
  # 5-1, 5-2: Done via 3-9 (Determinant CRUD API)
  # 5-3: Deferred to Phase 2 (JSONata formulas not needed for MVP linear workflows)
  # 5-4: Done via 3-7 (visibility rules)
  # 5-5: Merged into Epic 4 as 4-5a
  # 5-6: Deferred (not enough complexity to need validation yet)
  epic-5: superseded
  5-1-determinant-database-model-api: done # Completed in 3-9
  5-2-define-determinants-from-form-fields: done # Completed in 3-9
  5-3-configure-calculation-formulas: deferred-phase2 # JSONata formulas
  5-4-determinants-in-visibility-rules: done # Completed in 3-7
  5-5-determinants-in-workflow-conditions: merged-to-4-5a
  5-6-reference-validation: deferred-phase2
  epic-5-retrospective: skipped

  # Epic 6: AI Agent for Service Configuration (13 stories)
  # ARCHITECTURE: Vercel AI SDK (revised from CopilotKit)
  # See: _bmad-output/implementation-artifacts/epic-6-ai-agent-stories.md
  #
  # MVP CORE (9 stories, ~47 points):
  #   6-0, 6-1, 6-1a, 6-1b, 6-1c, 6-1d, 6-1e, 6-2, 6-3
  # MVP EXTENDED (+2 stories, +13 points):
  #   6-4, 6-5
  # POST-MVP (+2 stories, +8 points):
  #   6-6, 6-7
  epic-6: backlog
  6-0-ai-agent-architecture-spike: backlog          # Validate Vercel AI SDK E2E (5 pts)
  6-1-ai-agent-core-runtime: backlog                # BPAAgent class, streaming (8 pts)
  6-1a-dynamic-tool-registry: backlog               # OpenAPI → Tools generation (8 pts)
  6-1b-constraint-engine: backlog                   # YAML rules, confirmations (5 pts)
  6-1c-self-healing-layer: backlog                  # Error classification, recovery (5 pts)
  6-1d-backend-event-stream: backlog                # WebSocket, Zustand store (5 pts)
  6-1e-observability-layer: backlog                 # Audit log, cost tracking (3 pts)
  6-2-chat-interface-foundation: backlog            # Chat sidebar UI (5 pts)
  6-3-confirmation-flow-ui: backlog                 # Constraint confirmation UX (3 pts)
  6-4-service-generation-flow: backlog              # Multi-step generation (8 pts) - MVP Extended
  6-5-iterative-refinement: backlog                 # Conversational editing (5 pts) - MVP Extended
  6-6-gap-detection: backlog                        # Proactive suggestions (5 pts) - Post-MVP
  6-7-agent-settings-preferences: backlog           # User preferences (3 pts) - Post-MVP
  epic-6-retrospective: optional

  # Epic 7: Preview & Publishing (8 stories)
  epic-7: backlog
  7-1-complete-applicant-journey-preview: backlog
  7-2-simulate-form-submission-with-test-data: backlog
  7-3-simulate-workflow-progression: backlog
  7-4-completeness-dashboard: backlog
  7-5-validation-checks-before-publication: backlog
  7-6-publish-service: backlog
  7-7-publish-readiness-gate: backlog
  7-8-draft-published-separation: backlog
  epic-7-retrospective: optional

  # Epic 8: User & Access Management (4 stories)
  epic-8: backlog
  8-1-role-based-access-control-implementation: backlog
  8-2-country-scoped-access-control: backlog
  8-3-user-management-for-country-admins: backlog
  8-4-unctad-support-cross-instance-access: backlog
  epic-8-retrospective: optional

  # Epic 9: System Administration & Audit (6 stories)
  epic-9: backlog
  9-1-audit-logging: backlog
  9-2-activity-feed: backlog
  9-3-yaml-export: backlog
  9-4-yaml-import: backlog
  9-5-import-validation: backlog
  9-6-instance-settings: backlog
  epic-9-retrospective: optional

  # Epic 10: Demo & Live Collaboration (3 stories)
  epic-10: backlog
  10-1-demo-mode: backlog
  10-2-live-configuration-changes: backlog
  10-3-demo-changes-isolation: backlog
  epic-10-retrospective: optional

  # Epic 11: Reliability & Accessibility (6 stories)
  epic-11: backlog
  11-1-detailed-error-messages: backlog
  11-2-auto-save-draft-configurations: backlog
  11-3-keyboard-navigation: backlog
  11-4-change-impact-analysis: backlog
  11-5-wcag-21-aa-compliance: backlog
  11-6-browser-device-support: backlog
  epic-11-retrospective: optional

# MVP PATH (Optimized):
# ====================
# Epic 4 (Core) → Epic 6 (Core) → Epic 7 → Epic 6 (Extended)
#
# MVP CORE Stories (30 done + 15 remaining = 45):
# - Epic 4 Core: 4-0 to 4-6, 4-9 (6 remaining after 4-2)
# - Epic 6 Core: 6-0, 6-1, 6-1a-e, 6-2, 6-3 (9 stories, ~47 pts)
#
# MVP EXTENDED (add Epic 6 advanced + Epic 7):
# - Epic 6 Extended: 6-4, 6-5 (+2 stories, +13 pts)
# - Epic 7: 7-1 to 7-8 (8 stories)
#
# POST-MVP:
# - Epic 6: 6-6, 6-7 (2 stories, +8 pts)
# - Epic 8-11: Full scope
